
{
  "variables": {
    "do_token": ""
  },

 "builders":[
  {
   "type": "digitalocean",
   "api_token": "{{user `do_token`}}",
   "image": "debian-10-x64",
   "region": "blr1",
   "size": "s-1vcpu-2gb",
   "snapshot_name": "swala-vault",
   "ssh_username": "root"

  }
 ],
 "provisioners": [
  {
   "type": "file",
   "source": "./scripts/basics.bash",
   "destination": "/home/"
  },
  {
    "type": "file",
    "source": "./scripts/setup.bash",
    "destination": "/home/"
  },
  {
    "type": "file",
    "source": "./scripts/env.bash",
    "destination": "/home/"
  },
  {
   "type": "shell",
   "environment_vars": [
    "ADMIN_USER=sushi",
    "OS=debian"
  ],
   "scripts": [
       "./scripts/basics.bash",
       "./scripts/setup.bash",
       "./scripts/env.bash"
   ]
  }
 ],
 "post-processors": [
  [
    {
      "output": "manifest.json",
      "strip_path": true,
      "type": "manifest"
    }
  ]
]
}


